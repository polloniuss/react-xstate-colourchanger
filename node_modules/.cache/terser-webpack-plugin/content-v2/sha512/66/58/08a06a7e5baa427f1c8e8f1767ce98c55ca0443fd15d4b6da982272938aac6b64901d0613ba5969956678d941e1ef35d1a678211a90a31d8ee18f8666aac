{"code":"(this[\"webpackJsonpxstate-react-typescript-template\"]=this[\"webpackJsonpxstate-react-typescript-template\"]||[]).push([[0],{30:function(t,e,a){},41:function(t,e,a){\"use strict\";a.r(e),a.d(e,\"nluRequest\",(function(){return R}));var n=a(26),o=a(6),r=(a(30),a(8),a(23)),s=a(20),i=a(2),c=a(44),p=a(43),m=a(11);const d=m.a.send,l=m.a.cancel;function u(t){return d((e=>({type:\"SPEAK\",value:t})))}function y(t){return{initial:\"prompt\",states:{prompt:{entry:u(t)}}}}function h(t,e,a){return{initial:\"prompt\",states:{prompt:{entry:u(t),on:{ENDSPEECH:\"ask\"}},ask:{entry:[d(\"LISTEN\"),d(\"MAXSPEECH\",{delay:8e3,id:\"maxsp\"})]},nomatch:{entry:u(e),on:{ENDSPEECH:[{actions:l(\"maxsp\"),target:\"prompt\"}]}},help:{entry:u(a),on:{ENDSPEECH:[{actions:l(\"maxsp\"),target:\"prompt\"}]}}}}}Object(p.a)({url:\"https://statecharts.io/inspect\",iframe:!1});const g={initial:\"init\",states:{init:{on:{CLICK:\"start\"}},start:{initial:\"welcome\",on:{MAXSPEECH:[{cond:t=>1===t.counter,target:\"second_call\"},{cond:t=>2===t.counter,target:\"last_call\"},{target:\"first_call\"}]},states:{hist:{type:\"history\"},welcome:Object(o.a)({on:{RECOGNISED:{actions:l(\"maxsp\"),target:\"query\"}}},h(\"What do you want me to do?\")),query:{invoke:{id:\"rasa\",src:(t,e)=>R(t.recResult),onDone:{actions:[Object(i.b)(((t,e)=>({nluData:e.data}))),l(\"maxsp\")],target:\"rasaChoice\"},onError:{actions:[Object(i.b)({errorMessage:(t,e)=>console.log(e.data)}),l(\"maxsp\")],target:\"failure\"}}},failure:{initial:\"prompt\",on:{ENDSPEECH:\"welcome\"},states:{prompt:{entry:u(\"There is an error. Please check your proxy, your browser or retry later.\")}}},rasaChoice:Object(o.a)({initial:\"prompt\",on:{ENDSPEECH:[{cond:t=>\"appointment\"===t.nluData.intent.name,target:\"appointment\"},{cond:t=>\"TODO_item\"===t.nluData.intent.name,target:\"todo\"},{cond:t=>\"timer\"===t.nluData.intent.name,target:\"timer\"},{target:\"welcome\"}]}},y(\"Actualization.\")),appointment:Object(o.a)(Object(o.a)({},y(\"Okay, let's create an appointment!\")),{},{on:{ENDSPEECH:{actions:l(\"maxsp\"),target:\"who\"}}}),todo:Object(o.a)(Object(o.a)({},y(\"Let's create a to-do list!\")),{},{on:{ENDSPEECH:{actions:l(\"maxsp\"),target:\"welcome\"}}}),timer:Object(o.a)(Object(o.a)({},y(\"Let's start a timer!\")),{},{on:{ENDSPEECH:{actions:l(\"maxsp\"),target:\"welcome\"}}}),who:Object(o.a)({initial:\"prompt\",on:{RECOGNISED:[{cond:t=>\"person\"in(E[t.recResult]||{}),actions:[Object(i.b)((t=>({person:E[t.recResult].person}))),l(\"maxsp\")],target:\"day\"},{cond:t=>\"help\"in(E[t.recResult]||{}),target:\".help\"},{target:\".nomatch\"}]}},h(\"Who are you meeting with?\",\"Sorry, I don't know them.\",\"You can say Jennifer or John for example.\")),day:{initial:\"prompt\",on:{RECOGNISED:[{cond:t=>\"day\"in(E[t.recResult]||{}),actions:[Object(i.b)((t=>({day:E[t.recResult].day}))),l(\"maxsp\")],target:\"duration\"},{cond:t=>\"help\"in(E[t.recResult]||{}),target:\".help\"},{target:\".nomatch\"}]},states:{prompt:{entry:d((t=>({type:\"SPEAK\",value:\"On which day is your meeting?\"}))),on:{ENDSPEECH:\"ask\"}},ask:{entry:[d(\"LISTEN\"),d(\"MAXSPEECH\",{delay:8e3,id:\"maxsp\"})]},help:{entry:u(\"You can say monday, tuesday and so on.\"),on:{ENDSPEECH:[{actions:l(\"maxsp\"),target:\"prompt\"}]}},nomatch:{entry:u(\"Sorry, can you repeat?\"),on:{ENDSPEECH:[{actions:l(\"maxsp\"),target:\"prompt\"}]}}}},duration:Object(o.a)({initial:\"prompt\",on:{RECOGNISED:[{cond:t=>\"agree\"in(E[t.recResult]||{}),actions:[Object(i.b)((t=>({agree:E[t.recResult].agree}))),l(\"maxsp\")],target:\"confirmationWholeDay\"},{cond:t=>\"refuse\"in(E[t.recResult]||{}),actions:[Object(i.b)((t=>({refuse:E[t.recResult].refuse}))),l(\"maxsp\")],target:\"time\"},{cond:t=>\"help\"in(E[t.recResult]||{}),target:\".help\"},{target:\".nomatch\"}]}},h(\"Will it take the whole day?\",\"Sorry, can you repeat?\",\"You can answer with yes or no.\")),time:Object(o.a)({initial:\"prompt\",on:{RECOGNISED:[{cond:t=>\"time\"in(E[t.recResult]||{}),actions:[Object(i.b)((t=>({time:E[t.recResult].time}))),l(\"maxsp\")],target:\"regularConfirmation\"},{cond:t=>\"help\"in(E[t.recResult]||{}),target:\".help\"},{target:\".nomatch\"}]}},h(\"What time is your meeting?\",\"Sorry, can you repeat?\",\"You can choose between 8 to 12 or 1 to 6.\")),regularConfirmation:{initial:\"prompt\",on:{RECOGNISED:[{cond:t=>\"agree\"in(E[t.recResult]||{}),actions:[Object(i.b)((t=>({agree:E[t.recResult].agree}))),l(\"maxsp\")],target:\"confirmation\"},{cond:t=>\"help\"in(E[t.recResult]||{}),target:\".help\"},{cond:t=>\"refuse\"in(E[t.recResult]||{}),actions:[Object(i.b)((t=>({refuse:E[t.recResult].refuse}))),l(\"maxsp\")],target:\"who\"},{target:\".nomatch\"}]},states:{prompt:{entry:d((t=>({type:\"SPEAK\",value:\"Do you want me to create an appointment with \".concat(t.person,\" on \").concat(t.day,\" at \").concat(t.time,\" ?\")}))),on:{ENDSPEECH:\"ask\"}},ask:{entry:[d(\"LISTEN\"),d(\"MAXSPEECH\",{delay:8e3,id:\"maxsp\"})]},help:{entry:u(\"You can answer with yes or no.\"),on:{ENDSPEECH:[{actions:l(\"maxsp\"),target:\"prompt\"}]}},nomatch:{entry:u(\"Sorry can you repeat?\"),on:{ENDSPEECH:[{actions:l(\"maxsp\"),target:\"prompt\"}]}}}},confirmationWholeDay:{initial:\"prompt\",on:{RECOGNISED:[{cond:t=>\"agree\"in(E[t.recResult]||{}),actions:[Object(i.b)((t=>({agree:E[t.recResult].agree}))),l(\"maxsp\")],target:\"confirmation\"},{cond:t=>\"refuse\"in(E[t.recResult]||{}),actions:[Object(i.b)((t=>({refuse:E[t.recResult].refuse}))),l(\"maxsp\")],target:\"who\"},{cond:t=>\"help\"in(E[t.recResult]||{}),target:\".help\"},{target:\".nomatch\"}]},states:{prompt:{entry:d((t=>({type:\"SPEAK\",value:\"Do you want me to create an appointment with \".concat(t.person,\" on \").concat(t.day,\" for the whole day?\")}))),on:{ENDSPEECH:\"ask\"}},ask:{entry:[d(\"LISTEN\"),d(\"MAXSPEECH\",{delay:8e3,id:\"maxsp\"})]},help:{entry:u(\"You can answer with yes or no.\"),on:{ENDSPEECH:[{actions:l(\"maxsp\"),target:\"prompt\"}]}},nomatch:{entry:u(\"Sorry can you repeat?\"),on:{ENDSPEECH:[{actions:l(\"maxsp\"),target:\"prompt\"}]}}}},confirmation:Object(o.a)(Object(o.a)({},y(\"Your appointment has been created!\")),{},{on:{ENDSPEECH:\"welcome\"}})}},first_call:{entry:u(\"Please focus on my question.\"),on:{ENDSPEECH:[{cond:t=>1===t.counter,target:\"#root.dm.start.hist\"},{cond:t=>2===t.counter,target:\"#root.dm.start.hist\"},{cond:t=>3===t.counter,target:\"#root.dm.start.hist\"}]}},second_call:{entry:u(\"Are you still listening?\"),on:{ENDSPEECH:[{cond:t=>1===t.counter,target:\"#root.dm.start.hist\"},{cond:t=>2===t.counter,target:\"#root.dm.start.hist\"},{cond:t=>3===t.counter,target:\"#root.dm.start.hist\"}]}},last_call:{entry:u(\"Whatever, I don't want to listen anymore.\"),on:{ENDSPEECH:[{cond:t=>1===t.counter,target:\"#root.dm.start.hist\"},{cond:t=>2===t.counter,target:\"#root.dm.start.hist\"},{cond:t=>3===t.counter,target:\"#root.dm\"}]}}}},E={John:{person:\"John Appleseed\"},Mary:{person:\"Mary Orangeseed\"},Dan:{person:\"Dan Cherryseed\"},Steve:{person:\"Steve Strawberryseed\"},Klaus:{person:\"Klaus Pearseed\"},Gus:{person:\"Gus Bananaseed\"},Jennifer:{person:\"Jennifer Pineappleseed\"},Monday:{day:\"Monday\"},Tuesday:{day:\"Tuesday\"},Wednesday:{day:\"Wednesday\"},Thursday:{day:\"Thursday\"},Friday:{day:\"Friday\"},Saturday:{day:\"Saturday\"},Sunday:{day:\"Sunday\"},\"next Monday\":{day:\"Monday\"},\"next Tuesday\":{day:\"Tuesday\"},\"next Wednesday\":{day:\"Wednesday\"},\"next Thursday\":{day:\"Thursday\"},\"next Friday\":{day:\"Friday\"},\"next Saturday\":{day:\"Saturday\"},\"next Sunday\":{day:\"Sunday\"},\"on Monday\":{day:\"Monday\"},\"on Tuesday\":{day:\"Tuesday\"},\"on Wednesday\":{day:\"Wednesday\"},\"on Thursday\":{day:\"Thursday\"},\"on Friday\":{day:\"Friday\"},\"on Saturday\":{day:\"Saturday\"},\"on Sunday\":{day:\"Sunday\"},\"it's at 8\":{time:\"08:00\"},\"it's at 9\":{time:\"09:00\"},\"it's at 10\":{time:\"10:00\"},\"it's at 11\":{time:\"11:00\"},\"it's at 12\":{time:\"12:00\"},\"it's at 1\":{time:\"13:00\"},\"it's at 2\":{time:\"14:00\"},\"it's at 3\":{time:\"15:00\"},\"it's at 4\":{time:\"16:00\"},\"it's at 5\":{time:\"17:00\"},\"it's at 6\":{time:\"18:00\"},\"at 8\":{time:\"08:00\"},\"at 9\":{time:\"09:00\"},\"at 10\":{time:\"10:00\"},\"at 11\":{time:\"11:00\"},\"at 12\":{time:\"12:00\"},\"at 1\":{time:\"13:00\"},\"at 2\":{time:\"14:00\"},\"at 3\":{time:\"15:00\"},\"at 4\":{time:\"16:00\"},\"at 5\":{time:\"17:00\"},\"at 6\":{time:\"18:00\"},8:{time:\"08:00\"},9:{time:\"09:00\"},10:{time:\"10:00\"},11:{time:\"11:00\"},12:{time:\"12:00\"},1:{time:\"13:00\"},2:{time:\"14:00\"},3:{time:\"15:00\"},4:{time:\"16:00\"},5:{time:\"17:00\"},6:{time:\"18:00\"},\"around 8\":{time:\"08:00\"},\"around 9\":{time:\"09:00\"},\"around 10\":{time:\"10:00\"},\"around 11\":{time:\"11:00\"},\"around 12\":{time:\"12:00\"},\"around 1\":{time:\"13:00\"},\"around 2\":{time:\"14:00\"},\"around 3\":{time:\"15:00\"},\"around 4\":{time:\"16:00\"},\"around 5\":{time:\"17:00\"},\"around 6\":{time:\"18:00\"},\"I want to book an appointment\":{appointment:\"appointment\"},\"rendez-vous\":{appointment:\"appointment\"},appointment:{appointment:\"appointment\"},\"Let's create an appointment\":{appointment:\"appointment\"},\"I want an appointment\":{appointment:\"appointment\"},appointment:{appointment:\"appointment\"},schedule:{appointment:\"appointment\"},\"to-do list\":{todoitem:\"todoitem\"},\"a to-do list\":{todoitem:\"todoitem\"},list:{todoitem:\"todoitem\"},\"Let's start a to-do list\":{todoitem:\"todoitem\"},\"I have something to do\":{todoitem:\"todoitem\"},\"to do list\":{todoitem:\"todoitem\"},timer:{timer:\"timer\"},\"a timer\":{timer:\"timer\"},\"start the timer\":{timer:\"timer\"},ring:{timer:\"timer\"},minute:{timer:\"timer\"},yes:{agree:\"yes\"},yeah:{agree:\"yes\"},\"sounds good\":{agree:\"yes\"},\"of course\":{agree:\"yes\"},probably:{agree:\"yes\"},\"it's fine\":{agree:\"yes\"},no:{refuse:\"no\"},\"I'm not sure\":{refuse:\"no\"},\"I don't think so\":{refuse:\"no\"},\"no way\":{refuse:\"no\"},\"absolutely not\":{refuse:\"no\"},help:{help:\"help\"},\"I don't understand\":{help:\"help\"},\"please help\":{help:\"help\"},\"can you repeat\":{help:\"help\"},\"let's go back\":{help:\"help\"}};var b=a(22),S=a(13);Object(p.a)({url:\"https://statecharts.io/inspect\",iframe:!1});const O=Object(s.a)({id:\"root\",type:\"parallel\",states:{dm:Object(o.a)({},g),asrtts:{initial:\"idle\",states:{idle:{on:{LISTEN:\"recognising\",SPEAK:{target:\"speaking\",actions:Object(i.b)(((t,e)=>({ttsAgenda:e.value})))}}},recognising:{initial:\"progress\",entry:\"recStart\",exit:\"recStop\",on:{ASRRESULT:{actions:[\"recLogResult\",Object(i.b)(((t,e)=>({recResult:e.value})))],target:\".match\"},RECOGNISED:\"idle\",MAXSPEECH:{actions:Object(i.b)((t=>t.counter?{counter:t.counter+1}:{counter:1})),target:\"idle\"}},states:{progress:{},match:{entry:Object(i.q)(\"RECOGNISED\")}}},speaking:{entry:\"ttsStart\",on:{ENDSPEECH:\"idle\"}}}}}},{actions:{recLogResult:t=>{console.log(\"<< ASR: \"+t.recResult)},test:()=>{console.log(\"test\")},logIntent:t=>{console.log(\"<< NLU intent: \"+t.nluData.intent.name)}}}),j=t=>{switch(!0){case t.state.matches({asrtts:\"recognising\"}):return Object(S.jsx)(\"button\",Object(o.a)(Object(o.a)({type:\"button\",className:\"glow-on-hover\",style:{animation:\"glowing 20s linear\"}},t),{},{children:\"Listening...\"}));case t.state.matches({asrtts:\"speaking\"}):return Object(S.jsx)(\"button\",Object(o.a)(Object(o.a)({type:\"button\",className:\"glow-on-hover\",style:{animation:\"bordering 1s infinite\"}},t),{},{children:\"Speaking...\"}));default:return Object(S.jsx)(\"button\",Object(o.a)(Object(o.a)({type:\"button\",className:\"glow-on-hover\"},t),{},{children:\"Click to start\"}))}};function C(){const t=Object(b.useSpeechSynthesis)({onEnd:()=>{d(\"ENDSPEECH\")}}),e=t.speak,a=t.cancel,o=(t.speaking,Object(b.useSpeechRecognition)({onResult:t=>{d({type:\"ASRRESULT\",value:t})}})),r=o.listen,s=(o.listening,o.stop),i=Object(c.b)(O,{devTools:!0,actions:{recStart:Object(c.a)((()=>{console.log(\"Listening...\"),r({interimResults:!1,continuous:!0})})),recStop:Object(c.a)((()=>{console.log(\"Recognition stopped.\"),s()})),changeColour:Object(c.a)((t=>{console.log(\"Repainting...\"),document.body.style.background=t.recResult})),ttsStart:Object(c.a)(((t,a)=>{console.log(\"Speaking...\"),e({text:t.ttsAgenda})})),ttsCancel:Object(c.a)(((t,e)=>{console.log(\"TTS STOP...\"),a()}))}}),p=Object(n.a)(i,3),m=p[0],d=p[1];p[2];return Object(S.jsx)(\"div\",{className:\"App\",children:Object(S.jsx)(j,{state:m,onClick:()=>d(\"CLICK\")})})}const R=t=>fetch(new Request(\"https://cors-anywhere.herokuapp.com/https://nlu-heroku.herokuapp.com/model/parse/\",{method:\"POST\",headers:{Origin:\"http://localhost:3000/\"},body:'{\"text\": \"'.concat(t,'\"}')})).then((t=>t.json())),x=document.getElementById(\"root\");r.render(Object(S.jsx)(C,{}),x)}},[[41,1,2]]]);","name":"static/js/main.d73fcef2.chunk.js","map":{"version":3,"sources":["static/js/main.d73fcef2.chunk.js"],"names":["this","push","30","module","exports","__webpack_require__","41","__webpack_exports__","r","d","nluRequest","slicedToArray","objectSpread2","react_dom","Machine","actions","useMachine","browser","es","dmAppointment_send","send","dmAppointment_cancel","cancel","say","text","_context","type","value","dmAppointment_prompt","prompt","initial","states","entry","promptAndAsk","nomatch","help","on","ENDSPEECH","ask","delay","id","target","Object","url","iframe","dmMachine","init","CLICK","start","MAXSPEECH","cond","context","counter","hist","welcome","RECOGNISED","query","invoke","src","event","recResult","onDone","nluData","data","onError","errorMessage","console","log","failure","rasaChoice","intent","name","appointment","todo","timer","who","dict","person","day","duration","agree","refuse","time","regularConfirmation","concat","confirmationWholeDay","confirmation","first_call","second_call","last_call","John","Mary","Dan","Steve","Klaus","Gus","Jennifer","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","next Monday","next Tuesday","next Wednesday","next Thursday","next Friday","next Saturday","next Sunday","on Monday","on Tuesday","on Wednesday","on Thursday","on Friday","on Saturday","on Sunday","it's at 8","it's at 9","it's at 10","it's at 11","it's at 12","it's at 1","it's at 2","it's at 3","it's at 4","it's at 5","it's at 6","at 8","at 9","at 10","at 11","at 12","at 1","at 2","at 3","at 4","at 5","at 6","8","9","10","11","12","1","2","3","4","5","6","around 8","around 9","around 10","around 11","around 12","around 1","around 2","around 3","around 4","around 5","around 6","I want to book an appointment","rendez-vous","Let's create an appointment","I want an appointment","schedule","to-do list","todoitem","a to-do list","list","Let's start a to-do list","I have something to do","to do list","a timer","start the timer","ring","minute","yes","yeah","sounds good","of course","probably","it's fine","no","I'm not sure","I don't think so","no way","absolutely not","I don't understand","please help","can you repeat","let's go back","dist","jsx_runtime","machine","dm","asrtts","idle","LISTEN","SPEAK","ttsAgenda","recognising","exit","ASRRESULT","count","progress","match","speaking","recLogResult","test","logIntent","ReactiveButton","props","state","matches","className","style","animation","children","App","_useSpeechSynthesis","onEnd","speak","_useSpeechRecognition","onResult","result","listen","stop","listening","_useMachine","devTools","recStart","interimResults","continuous","recStop","changeColour","document","body","background","ttsStart","effect","ttsCancel","_useMachine2","current","onClick","fetch","Request","proxyurl","method","headers","Origin","then","json","rootElement","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpxstate-react-typescript-template\"] = this[\"webpackJsonpxstate-react-typescript-template\"] || []).push([[0],{\n\n/***/ 30:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"nluRequest\", function() { return /* binding */ nluRequest; });\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./src/styles.scss\nvar styles = __webpack_require__(30);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/xstate/es/Machine.js\nvar Machine = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/xstate/es/actions.js\nvar actions = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/@xstate/react/es/useMachine.js + 3 modules\nvar useMachine = __webpack_require__(44);\n\n// EXTERNAL MODULE: ./node_modules/@xstate/inspect/es/browser.js + 3 modules\nvar browser = __webpack_require__(43);\n\n// EXTERNAL MODULE: ./node_modules/xstate/es/index.js\nvar es = __webpack_require__(11);\n\n// CONCATENATED MODULE: ./src/dmAppointment.ts\nconst dmAppointment_send=es[\"a\" /* actions */].send,dmAppointment_cancel=es[\"a\" /* actions */].cancel;Object(browser[\"a\" /* inspect */])({url:\"https://statecharts.io/inspect\",iframe:false});function say(text){return dmAppointment_send(_context=>({type:\"SPEAK\",value:text}));}function dmAppointment_listen(){return dmAppointment_send('LISTEN');}function dmAppointment_prompt(prompt){return{initial:'prompt',states:{prompt:{entry:say(prompt)}}};}function promptAndAsk(prompt,nomatch,help){return{initial:'prompt',states:{prompt:{entry:say(prompt),on:{ENDSPEECH:'ask'}},ask:{entry:[dmAppointment_send('LISTEN'),dmAppointment_send('MAXSPEECH',{delay:8000,id:'maxsp'})]},nomatch:{entry:say(nomatch),on:{ENDSPEECH:[{actions:dmAppointment_cancel('maxsp'),target:\"prompt\"}]}},help:{entry:say(help),on:{ENDSPEECH:[{actions:dmAppointment_cancel('maxsp'),target:\"prompt\"}]}}}};}const dmMachine={initial:'init',states:{init:{on:{CLICK:'start'}},start:{initial:'welcome',on:{MAXSPEECH:[{cond:context=>context.counter===1,target:\"second_call\"},{cond:context=>context.counter===2,target:\"last_call\"},{target:\"first_call\"}]},states:{hist:{type:'history'},welcome:Object(objectSpread2[\"a\" /* default */])({on:{RECOGNISED:{actions:dmAppointment_cancel('maxsp'),target:'query'}}},promptAndAsk(\"What do you want me to do?\")),query:{invoke:{id:'rasa',src:(context,event)=>nluRequest(context.recResult),onDone:{actions:[Object(actions[\"b\" /* assign */])((context,event)=>{return{nluData:event.data};}),dmAppointment_cancel('maxsp')],target:'rasaChoice'},onError:{actions:[Object(actions[\"b\" /* assign */])({errorMessage:(context,event)=>console.log(event.data)}),dmAppointment_cancel('maxsp')],target:'failure'}}},failure:{initial:\"prompt\",on:{ENDSPEECH:\"welcome\"},states:{prompt:{entry:say(\"There is an error. Please check your proxy, your browser or retry later.\")}}},rasaChoice:Object(objectSpread2[\"a\" /* default */])({initial:\"prompt\",on:{ENDSPEECH:[{cond:context=>context.nluData.intent.name==='appointment',target:\"appointment\"},{cond:context=>context.nluData.intent.name==='TODO_item',target:\"todo\"},{cond:context=>context.nluData.intent.name==='timer',target:\"timer\"},{target:\"welcome\"}]}},dmAppointment_prompt(\"Actualization.\")),appointment:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},dmAppointment_prompt(\"Okay, let's create an appointment!\")),{},{on:{ENDSPEECH:{actions:dmAppointment_cancel('maxsp'),target:\"who\"}}}),todo:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},dmAppointment_prompt(\"Let's create a to-do list!\")),{},{on:{ENDSPEECH:{actions:dmAppointment_cancel('maxsp'),target:\"welcome\"}}}),timer:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},dmAppointment_prompt(\"Let's start a timer!\")),{},{on:{ENDSPEECH:{actions:dmAppointment_cancel('maxsp'),target:\"welcome\"}}}),who:Object(objectSpread2[\"a\" /* default */])({initial:\"prompt\",on:{RECOGNISED:[{cond:context=>\"person\"in(dict[context.recResult]||{}),actions:[Object(actions[\"b\" /* assign */])(context=>{return{person:dict[context.recResult].person};}),dmAppointment_cancel('maxsp')],target:\"day\"},{cond:context=>\"help\"in(dict[context.recResult]||{}),target:\".help\"},{target:\".nomatch\"}]}},promptAndAsk(\"Who are you meeting with?\",\"Sorry, I don't know them.\",\"You can say Jennifer or John for example.\")),day:{initial:\"prompt\",on:{RECOGNISED:[{cond:context=>\"day\"in(dict[context.recResult]||{}),actions:[Object(actions[\"b\" /* assign */])(context=>{return{day:dict[context.recResult].day};}),dmAppointment_cancel('maxsp')],target:\"duration\"},{cond:context=>\"help\"in(dict[context.recResult]||{}),target:\".help\"},{target:\".nomatch\"}]},states:{prompt:{entry:dmAppointment_send(context=>({type:\"SPEAK\",value:'On which day is your meeting?'})),on:{ENDSPEECH:\"ask\"}},ask:{entry:[dmAppointment_send('LISTEN'),dmAppointment_send('MAXSPEECH',{delay:8000,id:'maxsp'})]},help:{entry:say(\"You can say monday, tuesday and so on.\"),on:{ENDSPEECH:[{actions:dmAppointment_cancel('maxsp'),target:\"prompt\"}]}},nomatch:{entry:say(\"Sorry, can you repeat?\"),on:{ENDSPEECH:[{actions:dmAppointment_cancel('maxsp'),target:\"prompt\"}]}}}},duration:Object(objectSpread2[\"a\" /* default */])({initial:\"prompt\",on:{RECOGNISED:[{cond:context=>\"agree\"in(dict[context.recResult]||{}),actions:[Object(actions[\"b\" /* assign */])(context=>{return{agree:dict[context.recResult].agree};}),dmAppointment_cancel('maxsp')],target:\"confirmationWholeDay\"},{cond:context=>\"refuse\"in(dict[context.recResult]||{}),actions:[Object(actions[\"b\" /* assign */])(context=>{return{refuse:dict[context.recResult].refuse};}),dmAppointment_cancel('maxsp')],target:\"time\"},{cond:context=>\"help\"in(dict[context.recResult]||{}),target:\".help\"},{target:\".nomatch\"}]}},promptAndAsk(\"Will it take the whole day?\",\"Sorry, can you repeat?\",\"You can answer with yes or no.\")),time:Object(objectSpread2[\"a\" /* default */])({initial:\"prompt\",on:{RECOGNISED:[{cond:context=>\"time\"in(dict[context.recResult]||{}),actions:[Object(actions[\"b\" /* assign */])(context=>{return{time:dict[context.recResult].time};}),dmAppointment_cancel('maxsp')],target:\"regularConfirmation\"},{cond:context=>\"help\"in(dict[context.recResult]||{}),target:\".help\"},{target:\".nomatch\"}]}},promptAndAsk(\"What time is your meeting?\",\"Sorry, can you repeat?\",\"You can choose between 8 to 12 or 1 to 6.\")),regularConfirmation:{initial:\"prompt\",on:{RECOGNISED:[{cond:context=>\"agree\"in(dict[context.recResult]||{}),actions:[Object(actions[\"b\" /* assign */])(context=>{return{agree:dict[context.recResult].agree};}),dmAppointment_cancel('maxsp')],target:\"confirmation\"},{cond:context=>\"help\"in(dict[context.recResult]||{}),target:\".help\"},{cond:context=>\"refuse\"in(dict[context.recResult]||{}),actions:[Object(actions[\"b\" /* assign */])(context=>{return{refuse:dict[context.recResult].refuse};}),dmAppointment_cancel('maxsp')],target:\"who\"},{target:\".nomatch\"}]},states:{prompt:{entry:dmAppointment_send(context=>({type:\"SPEAK\",value:\"Do you want me to create an appointment with \".concat(context.person,\" on \").concat(context.day,\" at \").concat(context.time,\" ?\")})),on:{ENDSPEECH:\"ask\"}},ask:{entry:[dmAppointment_send('LISTEN'),dmAppointment_send('MAXSPEECH',{delay:8000,id:'maxsp'})]},help:{entry:say(\"You can answer with yes or no.\"),on:{ENDSPEECH:[{actions:dmAppointment_cancel('maxsp'),target:\"prompt\"}]}},nomatch:{entry:say(\"Sorry can you repeat?\"),on:{ENDSPEECH:[{actions:dmAppointment_cancel('maxsp'),target:\"prompt\"}]}}}},confirmationWholeDay:{initial:\"prompt\",on:{RECOGNISED:[{cond:context=>\"agree\"in(dict[context.recResult]||{}),actions:[Object(actions[\"b\" /* assign */])(context=>{return{agree:dict[context.recResult].agree};}),dmAppointment_cancel('maxsp')],target:\"confirmation\"},{cond:context=>\"refuse\"in(dict[context.recResult]||{}),actions:[Object(actions[\"b\" /* assign */])(context=>{return{refuse:dict[context.recResult].refuse};}),dmAppointment_cancel('maxsp')],target:\"who\"},{cond:context=>\"help\"in(dict[context.recResult]||{}),target:\".help\"},{target:\".nomatch\"}]},states:{prompt:{entry:dmAppointment_send(context=>({type:\"SPEAK\",value:\"Do you want me to create an appointment with \".concat(context.person,\" on \").concat(context.day,\" for the whole day?\")})),on:{ENDSPEECH:\"ask\"}},ask:{entry:[dmAppointment_send('LISTEN'),dmAppointment_send('MAXSPEECH',{delay:8000,id:'maxsp'})]},help:{entry:say(\"You can answer with yes or no.\"),on:{ENDSPEECH:[{actions:dmAppointment_cancel('maxsp'),target:\"prompt\"}]}},nomatch:{entry:say(\"Sorry can you repeat?\"),on:{ENDSPEECH:[{actions:dmAppointment_cancel('maxsp'),target:\"prompt\"}]}}}},confirmation:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},dmAppointment_prompt(\"Your appointment has been created!\")),{},{on:{ENDSPEECH:\"welcome\"}})}},first_call:{entry:say(\"Please focus on my question.\"),on:{ENDSPEECH:[{cond:context=>context.counter===1,target:\"#root.dm.start.hist\"},{cond:context=>context.counter===2,target:\"#root.dm.start.hist\"},{cond:context=>context.counter===3,target:\"#root.dm.start.hist\"}]}},second_call:{entry:say(\"Are you still listening?\"),on:{ENDSPEECH:[{cond:context=>context.counter===1,target:\"#root.dm.start.hist\"},{cond:context=>context.counter===2,target:\"#root.dm.start.hist\"},{cond:context=>context.counter===3,target:\"#root.dm.start.hist\"}]}},last_call:{entry:say(\"Whatever, I don't want to listen anymore.\"),on:{ENDSPEECH:[{cond:context=>context.counter===1,target:\"#root.dm.start.hist\"},{cond:context=>context.counter===2,target:\"#root.dm.start.hist\"},{cond:context=>context.counter===3,target:\"#root.dm\"}]}}}};const dict={\"John\":{person:\"John Appleseed\"},\"Mary\":{person:\"Mary Orangeseed\"},\"Dan\":{person:\"Dan Cherryseed\"},\"Steve\":{person:\"Steve Strawberryseed\"},\"Klaus\":{person:\"Klaus Pearseed\"},\"Gus\":{person:\"Gus Bananaseed\"},\"Jennifer\":{person:\"Jennifer Pineappleseed\"},\"Monday\":{day:\"Monday\"},\"Tuesday\":{day:\"Tuesday\"},\"Wednesday\":{day:\"Wednesday\"},\"Thursday\":{day:\"Thursday\"},\"Friday\":{day:\"Friday\"},\"Saturday\":{day:\"Saturday\"},\"Sunday\":{day:\"Sunday\"},\"next Monday\":{day:\"Monday\"},\"next Tuesday\":{day:\"Tuesday\"},\"next Wednesday\":{day:\"Wednesday\"},\"next Thursday\":{day:\"Thursday\"},\"next Friday\":{day:\"Friday\"},\"next Saturday\":{day:\"Saturday\"},\"next Sunday\":{day:\"Sunday\"},\"on Monday\":{day:\"Monday\"},\"on Tuesday\":{day:\"Tuesday\"},\"on Wednesday\":{day:\"Wednesday\"},\"on Thursday\":{day:\"Thursday\"},\"on Friday\":{day:\"Friday\"},\"on Saturday\":{day:\"Saturday\"},\"on Sunday\":{day:\"Sunday\"},\"it's at 8\":{time:\"08:00\"},\"it's at 9\":{time:\"09:00\"},\"it's at 10\":{time:\"10:00\"},\"it's at 11\":{time:\"11:00\"},\"it's at 12\":{time:\"12:00\"},\"it's at 1\":{time:\"13:00\"},\"it's at 2\":{time:\"14:00\"},\"it's at 3\":{time:\"15:00\"},\"it's at 4\":{time:\"16:00\"},\"it's at 5\":{time:\"17:00\"},\"it's at 6\":{time:\"18:00\"},\"at 8\":{time:\"08:00\"},\"at 9\":{time:\"09:00\"},\"at 10\":{time:\"10:00\"},\"at 11\":{time:\"11:00\"},\"at 12\":{time:\"12:00\"},\"at 1\":{time:\"13:00\"},\"at 2\":{time:\"14:00\"},\"at 3\":{time:\"15:00\"},\"at 4\":{time:\"16:00\"},\"at 5\":{time:\"17:00\"},\"at 6\":{time:\"18:00\"},\"8\":{time:\"08:00\"},\"9\":{time:\"09:00\"},\"10\":{time:\"10:00\"},\"11\":{time:\"11:00\"},\"12\":{time:\"12:00\"},\"1\":{time:\"13:00\"},\"2\":{time:\"14:00\"},\"3\":{time:\"15:00\"},\"4\":{time:\"16:00\"},\"5\":{time:\"17:00\"},\"6\":{time:\"18:00\"},\"around 8\":{time:\"08:00\"},\"around 9\":{time:\"09:00\"},\"around 10\":{time:\"10:00\"},\"around 11\":{time:\"11:00\"},\"around 12\":{time:\"12:00\"},\"around 1\":{time:\"13:00\"},\"around 2\":{time:\"14:00\"},\"around 3\":{time:\"15:00\"},\"around 4\":{time:\"16:00\"},\"around 5\":{time:\"17:00\"},\"around 6\":{time:\"18:00\"},\"I want to book an appointment\":{appointment:\"appointment\"},\"rendez-vous\":{appointment:\"appointment\"},\"appointment\":{appointment:\"appointment\"},\"Let's create an appointment\":{appointment:\"appointment\"},\"I want an appointment\":{appointment:\"appointment\"},\"appointment\":{appointment:\"appointment\"},\"schedule\":{appointment:\"appointment\"},\"to-do list\":{todoitem:\"todoitem\"},\"a to-do list\":{todoitem:\"todoitem\"},\"list\":{todoitem:\"todoitem\"},\"Let's start a to-do list\":{todoitem:\"todoitem\"},\"I have something to do\":{todoitem:\"todoitem\"},\"to do list\":{todoitem:\"todoitem\"},\"timer\":{timer:\"timer\"},\"a timer\":{timer:\"timer\"},\"start the timer\":{timer:\"timer\"},\"ring\":{timer:\"timer\"},\"minute\":{timer:\"timer\"},\"yes\":{agree:\"yes\"},\"yeah\":{agree:\"yes\"},\"sounds good\":{agree:\"yes\"},\"of course\":{agree:\"yes\"},\"probably\":{agree:\"yes\"},\"it's fine\":{agree:\"yes\"},\"no\":{refuse:\"no\"},\"I'm not sure\":{refuse:\"no\"},\"I don't think so\":{refuse:\"no\"},\"no way\":{refuse:\"no\"},\"absolutely not\":{refuse:\"no\"},\"help\":{help:\"help\"},\"I don't understand\":{help:\"help\"},\"please help\":{help:\"help\"},\"can you repeat\":{help:\"help\"},\"let's go back\":{help:\"help\"}};\n// EXTERNAL MODULE: ./node_modules/react-speech-kit/dist/index.js\nvar dist = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(13);\n\n// CONCATENATED MODULE: ./src/index.tsx\nObject(browser[\"a\" /* inspect */])({url:\"https://statecharts.io/inspect\",iframe:false});let count=0;const machine=Object(Machine[\"a\" /* Machine */])({id:'root',type:'parallel',states:{dm:Object(objectSpread2[\"a\" /* default */])({},dmMachine),asrtts:{initial:'idle',states:{idle:{on:{LISTEN:'recognising',SPEAK:{target:'speaking',actions:Object(actions[\"b\" /* assign */])((_context,event)=>{return{ttsAgenda:event.value};})}}},recognising:{initial:'progress',entry:'recStart',exit:'recStop',on:{ASRRESULT:{actions:['recLogResult',Object(actions[\"b\" /* assign */])((_context,event)=>{return{recResult:event.value};})],target:'.match'},RECOGNISED:'idle',MAXSPEECH:{actions:Object(actions[\"b\" /* assign */])(context=>{if(context.counter){return{counter:context.counter+1};}else{return{counter:count+1};}}),target:'idle'}},states:{progress:{},match:{entry:Object(actions[\"q\" /* send */])('RECOGNISED')}}},speaking:{entry:'ttsStart',on:{ENDSPEECH:'idle'}}}}}},{actions:{recLogResult:context=>{/* context.recResult = event.recResult; */console.log('<< ASR: '+context.recResult);},test:()=>{console.log('test');},logIntent:context=>{/* context.nluData = event.data */console.log('<< NLU intent: '+context.nluData.intent.name);}}});const ReactiveButton=props=>{switch(true){case props.state.matches({asrtts:'recognising'}):return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({type:\"button\",className:\"glow-on-hover\",style:{animation:\"glowing 20s linear\"}},props),{},{children:\"Listening...\"}));case props.state.matches({asrtts:'speaking'}):return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({type:\"button\",className:\"glow-on-hover\",style:{animation:\"bordering 1s infinite\"}},props),{},{children:\"Speaking...\"}));default:return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({type:\"button\",className:\"glow-on-hover\"},props),{},{children:\"Click to start\"}));}};function App(){const _useSpeechSynthesis=Object(dist[\"useSpeechSynthesis\"])({onEnd:()=>{send('ENDSPEECH');}}),speak=_useSpeechSynthesis.speak,cancel=_useSpeechSynthesis.cancel,speaking=_useSpeechSynthesis.speaking;const _useSpeechRecognition=Object(dist[\"useSpeechRecognition\"])({onResult:result=>{send({type:\"ASRRESULT\",value:result});}}),listen=_useSpeechRecognition.listen,listening=_useSpeechRecognition.listening,stop=_useSpeechRecognition.stop;const _useMachine=Object(useMachine[\"b\" /* useMachine */])(machine,{devTools:true,actions:{recStart:Object(useMachine[\"a\" /* asEffect */])(()=>{console.log('Listening...');listen({interimResults:false,continuous:true});}),recStop:Object(useMachine[\"a\" /* asEffect */])(()=>{console.log('Recognition stopped.');stop();}),changeColour:Object(useMachine[\"a\" /* asEffect */])(context=>{console.log('Repainting...');document.body.style.background=context.recResult;}),ttsStart:Object(useMachine[\"a\" /* asEffect */])((context,effect)=>{console.log('Speaking...');speak({text:context.ttsAgenda});}),ttsCancel:Object(useMachine[\"a\" /* asEffect */])((context,effect)=>{console.log('TTS STOP...');cancel();})/* speak: asEffect((context) => {\r\n\t     * console.log('Speaking...');\r\n             *     speak({text: context.ttsAgenda })\r\n             * } */}}),_useMachine2=Object(slicedToArray[\"a\" /* default */])(_useMachine,3),current=_useMachine2[0],send=_useMachine2[1],service=_useMachine2[2];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ReactiveButton,{state:current,onClick:()=>send('CLICK')})});};/* RASA API\r\n *  */const proxyurl=\"https://cors-anywhere.herokuapp.com/\";/*const rasaurl = 'https://rasa-nlu-api-00.herokuapp.com/model/parse'*/const rasaurl='https://nlu-heroku.herokuapp.com/model/parse/';const nluRequest=text=>fetch(new Request(proxyurl+rasaurl,{method:'POST',//headers: { 'Origin': 'http://maraev.me' }, // only required with proxy\nheaders:{'Origin':'http://localhost:3000/'},body:\"{\\\"text\\\": \\\"\".concat(text,\"\\\"}\")})).then(data=>data.json());const rootElement=document.getElementById(\"root\");react_dom[\"render\"](/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App,{}),rootElement);\n\n/***/ })\n\n},[[41,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Bérénice\\Documents\\nodeJS\\react-xstate-colourchanger\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-6-0!C:\\Users\\Bérénice\\Documents\\nodeJS\\react-xstate-colourchanger\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-6-1!C:\\Users\\Bérénice\\Documents\\nodeJS\\react-xstate-colourchanger\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Bérénice\\Documents\\nodeJS\\react-xstate-colourchanger\\node_modules\\resolve-url-loader\\index.js??ref--5-oneOf-6-3!C:\\Users\\Bérénice\\Documents\\nodeJS\\react-xstate-colourchanger\\node_modules\\sass-loader\\dist\\cjs.js??ref--5-oneOf-6-4!C:\\Users\\Bérénice\\Documents\\nodeJS\\react-xstate-colourchanger\\src\\styles.scss","C:/Users/Bérénice/Documents/nodeJS/react-xstate-colourchanger/src/dmAppointment.ts","C:/Users/Bérénice/Documents/nodeJS/react-xstate-colourchanger/src/index.tsx"],"names":["send","actions","cancel","inspect","url","iframe","say","text","_context","type","value","listen","prompt","initial","states","entry","promptAndAsk","nomatch","help","on","ENDSPEECH","ask","delay","id","target","dmMachine","init","CLICK","start","MAXSPEECH","cond","context","counter","hist","welcome","RECOGNISED","query","invoke","src","event","nluRequest","recResult","onDone","assign","nluData","data","onError","errorMessage","console","log","failure","rasaChoice","intent","name","appointment","todo","timer","who","dict","person","day","duration","agree","refuse","time","regularConfirmation","confirmationWholeDay","confirmation","first_call","second_call","last_call","todoitem","count","machine","Machine","dm","asrtts","idle","LISTEN","SPEAK","ttsAgenda","recognising","exit","ASRRESULT","progress","match","speaking","recLogResult","test","logIntent","ReactiveButton","props","state","matches","animation","App","useSpeechSynthesis","onEnd","speak","useSpeechRecognition","onResult","result","listening","stop","useMachine","devTools","recStart","asEffect","interimResults","continuous","recStop","changeColour","document","body","style","background","ttsStart","effect","ttsCancel","current","service","proxyurl","rasaurl","fetch","Request","method","headers","then","json","rootElement","getElementById","ReactDOM"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import { MachineConfig, Action, assign, actions } from \"xstate\"\r\nconst { send, cancel } = actions\r\n\r\nimport { inspect } from '@xstate/inspect'\r\ninspect({\r\n  url: \"https://statecharts.io/inspect\",\r\n  iframe: false\r\n});\r\n\r\nimport { nluRequest } from \"./index.tsx\"\r\nimport { loadGrammar } from './runparser'\r\nimport { parse } from './chartparser'\r\nimport { grammar } from './grammars/quotesGrammar.ts'\r\n\r\nfunction say(text: string): Action<SDSContext, SDSEvent> {\r\n    return send((_context: SDSContext) => ({ type: \"SPEAK\", value: text }))\r\n}\r\nfunction listen(): Action<SDSContext, SDSEvent> {\r\n    return send('LISTEN')\r\n}\r\nfunction prompt(prompt: string): MachineConfig<SDSContext, any, SDSEvent> {\r\n    return ({\r\n        initial: 'prompt',\r\n        states: {\r\n            prompt: {\r\n                entry: say(prompt)\r\n            }\r\n        }\r\n    })\r\n}\r\nfunction promptAndAsk(prompt: string, nomatch: string, help: string): MachineConfig<SDSContext, any, SDSEvent> {\r\n    return ({\r\n        initial: 'prompt',\r\n        states: {\r\n                prompt: {\r\n                    entry: say(prompt),\r\n                    on: { ENDSPEECH: 'ask' }\r\n                },\r\n                ask: {\r\n                    entry: [send('LISTEN'), send('MAXSPEECH', { delay: 8000, id: 'maxsp' })]\r\n                },\r\n                nomatch: {\r\n                    entry: say(nomatch),\r\n                    on: { ENDSPEECH: [{ \r\n                            actions: cancel('maxsp'),\r\n                            target: \"prompt\" \r\n                    }] }\r\n                },\r\n                help: {\r\n                    entry: say(help),\r\n                    on: { ENDSPEECH: [{ \r\n                            actions: cancel('maxsp'),\r\n                            target: \"prompt\" \r\n                    }] }\r\n                }\r\n        }\r\n    })\r\n}\r\n\r\nexport const dmMachine: MachineConfig<SDSContext, any, SDSEvent> = ({\r\n    initial: 'init',\r\n    states: {\r\n        init: {\r\n            on: {\r\n                CLICK: 'start'\r\n            }\r\n        },\r\n        start: {\r\n            initial: 'welcome',\r\n            on: {\r\n                MAXSPEECH: [\r\n                    { \r\n                        cond: (context) => context.counter === 1,\r\n                        target: \"second_call\"\r\n                    },\r\n                    {\r\n                        cond: (context) => context.counter === 2,\r\n                        target: \"last_call\"\r\n                    },\r\n                    {\r\n                        target: \"first_call\"\r\n                    }\r\n                ]\r\n            },\r\n            states: {\r\n                hist: { type: 'history' },\r\n                welcome: {\r\n                    on: { RECOGNISED: \r\n                            {   actions: cancel('maxsp'),\r\n                                target: 'query'\r\n                            }\r\n                    },\r\n                    ...promptAndAsk(\"What do you want me to do?\"),\r\n                },\r\n                query: {\r\n                    invoke: {\r\n                        id: 'rasa',\r\n                        src: (context, event) => nluRequest(context.recResult),\r\n                        onDone: {\r\n                            actions: [ assign((context, event) => { return { nluData: event.data }}), cancel('maxsp')],\r\n                            target: 'rasaChoice'\r\n                        },\r\n                        onError: {\r\n                            actions: [ assign({ errorMessage: (context, event) => console.log(event.data)}), cancel('maxsp')],\r\n                            target: 'failure',\r\n                        }\r\n                    }\r\n                },\r\n                failure: {\r\n                    initial: \"prompt\",\r\n                    on: { ENDSPEECH: \"welcome\" },\r\n                    states: {\r\n                        prompt: { entry: say(\"There is an error. Please check your proxy, your browser or retry later.\") }\r\n                    }\r\n                },\r\n                rasaChoice: {\r\n                    initial: \"prompt\",\r\n                    on: { ENDSPEECH: [{ \r\n                            cond: (context) =>  context.nluData.intent.name === 'appointment',\r\n                            target: \"appointment\"\r\n                        },\r\n                        { cond: (context) =>  context.nluData.intent.name === 'TODO_item',\r\n                            target: \"todo\"\r\n                        },\r\n                        { cond: (context) =>  context.nluData.intent.name === 'timer',\r\n                            target: \"timer\"\r\n                        },\r\n                        { target: \"welcome\" }]\r\n                    },\r\n                    ...prompt(\"Actualization.\"),\r\n                },\r\n                appointment: {\r\n                    ...prompt(\"Okay, let's create an appointment!\"),\r\n                    on: { ENDSPEECH: \r\n                            { actions: cancel('maxsp'),\r\n                            target: \"who\" },\r\n                    }\r\n                },\r\n                todo: {\r\n                    ...prompt(\"Let's create a to-do list!\"),\r\n                    on: { ENDSPEECH: \r\n                            { actions: cancel('maxsp'),\r\n                            target: \"welcome\" },\r\n                    }\r\n                },\r\n                timer: {\r\n                    ...prompt(\"Let's start a timer!\"),\r\n                    on: { ENDSPEECH: \r\n                            { actions: cancel('maxsp'),\r\n                            target: \"welcome\" },\r\n                    }\r\n                },\r\n                who: {\r\n                    initial: \"prompt\",\r\n                    on: {\r\n                        RECOGNISED: [{\r\n                            cond: (context) => \"person\" in (dict[context.recResult] || {}),\r\n                            actions: [ assign((context) => { return { person: dict[context.recResult].person } }), cancel('maxsp')],\r\n                            target: \"day\"\r\n\r\n                        },\r\n                        {\r\n                            cond:(context) => \"help\" in (dict[context.recResult] || {}),\r\n                            target: \".help\"\r\n                        },\r\n                        { target: \".nomatch\" }]\r\n                    },\r\n                    ...promptAndAsk(\"Who are you meeting with?\",\"Sorry, I don't know them.\", \"You can say Jennifer or John for example.\")\r\n                },\r\n                day: {\r\n                    initial: \"prompt\",\r\n                    on: {\r\n                        RECOGNISED: [{\r\n                            cond: (context) => \"day\" in (dict[context.recResult] || {}),\r\n                            actions: [ assign((context) => { return { day: dict[context.recResult].day } }), cancel('maxsp')],\r\n                            target: \"duration\"\r\n\r\n                        },\r\n                        {\r\n                            cond:(context) => \"help\" in (dict[context.recResult] || {}),\r\n                            target: \".help\"\r\n                        },\r\n                        { target: \".nomatch\" }]\r\n                    },\r\n                    states: {\r\n                        prompt: {\r\n                            entry: send((context) => ({\r\n                                type: \"SPEAK\",\r\n                                value: 'On which day is your meeting?',\r\n                            })),\r\n                            on: { ENDSPEECH: \"ask\" }\r\n                        },\r\n                        ask: {\r\n                            entry: [ \r\n                                send('LISTEN'),\r\n                                send('MAXSPEECH', { delay: 8000, id: 'maxsp' })\r\n                            ]\r\n                        },\r\n                        help: {\r\n                            entry: say(\"You can say monday, tuesday and so on.\"),\r\n                            on: { ENDSPEECH: [{ \r\n                                    actions: cancel('maxsp'),\r\n                                    target: \"prompt\"\r\n                            }] }\r\n                        },\r\n                        nomatch: {\r\n                            entry: say(\"Sorry, can you repeat?\"),\r\n                            on: { ENDSPEECH: [{ \r\n                                    actions: cancel('maxsp'),\r\n                                    target: \"prompt\"\r\n                            }] }\r\n                        },\r\n                    }\r\n                },\r\n                duration: {\r\n                    initial: \"prompt\",\r\n                    on: {\r\n                        RECOGNISED: [{\r\n                            cond: (context) => \"agree\" in (dict[context.recResult] || {}),\r\n                            actions: [ assign((context) => { return { agree: dict[context.recResult].agree } }), cancel('maxsp')],\r\n                            target: \"confirmationWholeDay\"\r\n                        },\r\n                        {   \r\n                            cond: (context) => \"refuse\" in (dict[context.recResult] || {}),\r\n                            actions: [ assign((context) => { return { refuse: dict[context.recResult].refuse } }), cancel('maxsp')],\r\n                            target: \"time\"\r\n                        },\r\n                        {\r\n                            cond:(context) => \"help\" in (dict[context.recResult] || {}),\r\n                            target: \".help\"\r\n                        },\r\n                        { target: \".nomatch\" }],\r\n                    },\r\n                    ...promptAndAsk(\"Will it take the whole day?\",\"Sorry, can you repeat?\", \"You can answer with yes or no.\")\r\n                },\r\n                time: {\r\n                    initial: \"prompt\",\r\n                    on: {\r\n                        RECOGNISED: [{\r\n                            cond: (context) => \"time\" in (dict[context.recResult] || {}),\r\n                            actions: [ assign((context) => { return { time: dict[context.recResult].time } }), cancel('maxsp')],\r\n                            target: \"regularConfirmation\"\r\n                        },\r\n                        {\r\n                            cond:(context) => \"help\" in (dict[context.recResult] || {}),\r\n                            target: \".help\"\r\n                        },\r\n                        { target: \".nomatch\" }]\r\n                    },\r\n                    ...promptAndAsk(\"What time is your meeting?\",\"Sorry, can you repeat?\", \"You can choose between 8 to 12 or 1 to 6.\")\r\n                },\r\n                regularConfirmation: {\r\n                    initial: \"prompt\",\r\n                    on: {\r\n                        RECOGNISED: [{\r\n                            cond: (context) => \"agree\" in (dict[context.recResult] || {}),\r\n                            actions: [ assign((context) => { return { agree: dict[context.recResult].agree } }), cancel('maxsp')],\r\n                            target: \"confirmation\"\r\n                        },\r\n                        {\r\n                            cond:(context) => \"help\" in (dict[context.recResult] || {}),\r\n                            target: \".help\"\r\n                        },\r\n                        {   \r\n                            cond: (context) => \"refuse\" in (dict[context.recResult] || {}),\r\n                            actions: [ assign((context) => { return { refuse: dict[context.recResult].refuse } }), cancel('maxsp')],\r\n                            target: \"who\"\r\n                        },\r\n                        { target: \".nomatch\" }],\r\n                    },\r\n                    states: {\r\n                        prompt: {\r\n                            entry: send((context) => ({\r\n                                type: \"SPEAK\",\r\n                                value: `Do you want me to create an appointment with ${context.person} on ${context.day} at ${context.time} ?`\r\n                            })),\r\n                            on: { ENDSPEECH: \"ask\" }\r\n                        },\r\n                        ask: {\r\n                            entry: [ \r\n                                send('LISTEN'),\r\n                                send('MAXSPEECH', { delay: 8000, id: 'maxsp' })\r\n                            ]\r\n                        },\r\n                        help: {\r\n                            entry: say(\"You can answer with yes or no.\"),\r\n                            on: { ENDSPEECH: [{ \r\n                                    actions: cancel('maxsp'),\r\n                                    target: \"prompt\"\r\n                            }] }\r\n                        },\r\n                        nomatch: {\r\n                            entry: say(\"Sorry can you repeat?\"),\r\n                            on: { ENDSPEECH: [{ \r\n                                    actions: cancel('maxsp'),\r\n                                    target: \"prompt\"\r\n                            }] }\r\n                        },\r\n                    }\r\n                },\r\n                confirmationWholeDay: {\r\n                    initial: \"prompt\",\r\n                    on: {\r\n                        RECOGNISED: [{\r\n                            cond: (context) => \"agree\" in (dict[context.recResult] || {}),\r\n                            actions: [ assign((context) => { return { agree: dict[context.recResult].agree } }), cancel('maxsp')],\r\n                            target: \"confirmation\"\r\n                        },\r\n                        {   \r\n                            cond: (context) => \"refuse\" in (dict[context.recResult] || {}),\r\n                            actions: [ assign((context) => { return { refuse: dict[context.recResult].refuse } }), cancel('maxsp')],\r\n                            target: \"who\"\r\n                        },\r\n                        {\r\n                            cond:(context) => \"help\" in (dict[context.recResult] || {}),\r\n                            target: \".help\"\r\n                        },\r\n                        { target: \".nomatch\" }],\r\n                    },\r\n                    states: {\r\n                        prompt: {\r\n                            entry: send((context) => ({\r\n                                type: \"SPEAK\",\r\n                                value: `Do you want me to create an appointment with ${context.person} on ${context.day} for the whole day?`\r\n                            })),\r\n                            on: { ENDSPEECH: \"ask\" }\r\n                        },\r\n                        ask: {\r\n                            entry: [ \r\n                                send('LISTEN'),\r\n                                send('MAXSPEECH', { delay: 8000, id: 'maxsp' })\r\n                            ]\r\n                        },\r\n                        help: {\r\n                            entry: say(\"You can answer with yes or no.\"),\r\n                            on: { ENDSPEECH: [{ \r\n                                    actions: cancel('maxsp'),\r\n                                    target: \"prompt\"\r\n                            }] }\r\n                        },\r\n                        nomatch: {\r\n                            entry: say(\"Sorry can you repeat?\"),\r\n                            on: { ENDSPEECH: [{ \r\n                                    actions: cancel('maxsp'),\r\n                                    target: \"prompt\"\r\n                            }] }\r\n                        },\r\n                    }\r\n                },\r\n                confirmation: {\r\n                    ...prompt(\"Your appointment has been created!\"),\r\n                    on: { ENDSPEECH: \"welcome\" }\r\n                }\r\n            }\r\n        },\r\n        first_call: {\r\n            entry: say(\"Please focus on my question.\"),\r\n            on: {\r\n                ENDSPEECH: [\r\n                    {\r\n                        cond: (context) => context.counter === 1,\r\n                        target: \"#root.dm.start.hist\"\r\n                    },\r\n                    {\r\n                        cond: (context) => context.counter === 2,\r\n                        target: \"#root.dm.start.hist\"\r\n                    },\r\n                    {\r\n                        cond: (context) => context.counter === 3,\r\n                        target: \"#root.dm.start.hist\"\r\n                    },\r\n                ],\r\n            }\r\n        },\r\n        second_call: {\r\n            entry: say(\"Are you still listening?\"),\r\n            on: {\r\n                ENDSPEECH: [\r\n                    {\r\n                        cond: (context) => context.counter === 1,\r\n                        target: \"#root.dm.start.hist\"\r\n                    },\r\n                    {\r\n                        cond: (context) => context.counter === 2,\r\n                        target: \"#root.dm.start.hist\"\r\n                    },\r\n                    {\r\n                        cond: (context) => context.counter === 3,\r\n                        target: \"#root.dm.start.hist\"\r\n                    },\r\n                ],\r\n            }\r\n        },\r\n        last_call: {\r\n            entry: say(\"Whatever, I don't want to listen anymore.\"),\r\n            on: {\r\n                ENDSPEECH: [\r\n                    {\r\n                        cond: (context) => context.counter === 1,\r\n                        target: \"#root.dm.start.hist\"\r\n                    },\r\n                    {\r\n                        cond: (context) => context.counter === 2,\r\n                        target: \"#root.dm.start.hist\"\r\n                    },\r\n                    {\r\n                        cond: (context) => context.counter === 3,\r\n                        target: \"#root.dm\"\r\n                    },\r\n                ],\r\n            }\r\n        },\r\n    }\r\n})\r\n\r\nconst dict: { [index: string]: { person?: string, day?: string, time?: string, agree?: string, refuse?: string, appointment?: string, todoitem?: string, timer?: string } } = {\r\n    \"John\": { person: \"John Appleseed\" },\r\n    \"Mary\": { person: \"Mary Orangeseed\" },\r\n    \"Dan\": { person: \"Dan Cherryseed\" },\r\n    \"Steve\": { person: \"Steve Strawberryseed\" },\r\n    \"Klaus\": { person: \"Klaus Pearseed\" },\r\n    \"Gus\": { person: \"Gus Bananaseed\" },\r\n    \"Jennifer\": { person: \"Jennifer Pineappleseed\" },\r\n    \"Monday\": { day: \"Monday\" },\r\n    \"Tuesday\": { day: \"Tuesday\" },\r\n    \"Wednesday\": { day: \"Wednesday\" },\r\n    \"Thursday\": { day: \"Thursday\" },\r\n    \"Friday\": { day: \"Friday\" },\r\n    \"Saturday\": { day: \"Saturday\" },\r\n    \"Sunday\": { day: \"Sunday\" },\r\n    \"next Monday\": { day: \"Monday\" },\r\n    \"next Tuesday\": { day: \"Tuesday\" },\r\n    \"next Wednesday\": { day: \"Wednesday\" },\r\n    \"next Thursday\": { day: \"Thursday\" },\r\n    \"next Friday\": { day: \"Friday\" },\r\n    \"next Saturday\": { day: \"Saturday\" },\r\n    \"next Sunday\": { day: \"Sunday\" },\r\n    \"on Monday\": { day: \"Monday\" },\r\n    \"on Tuesday\": { day: \"Tuesday\" },\r\n    \"on Wednesday\": { day: \"Wednesday\" },\r\n    \"on Thursday\": { day: \"Thursday\" },\r\n    \"on Friday\": { day: \"Friday\" },\r\n    \"on Saturday\": { day: \"Saturday\" },\r\n    \"on Sunday\": { day: \"Sunday\" },\r\n    \"it's at 8\": { time: \"08:00\" },\r\n    \"it's at 9\": { time: \"09:00\" },\r\n    \"it's at 10\": { time: \"10:00\" },\r\n    \"it's at 11\": { time: \"11:00\" },\r\n    \"it's at 12\": { time: \"12:00\" },\r\n    \"it's at 1\": { time: \"13:00\" },\r\n    \"it's at 2\": { time: \"14:00\" },\r\n    \"it's at 3\": { time: \"15:00\" },\r\n    \"it's at 4\": { time: \"16:00\" },\r\n    \"it's at 5\": { time: \"17:00\" },\r\n    \"it's at 6\": { time: \"18:00\" },\r\n    \"at 8\": { time: \"08:00\" },\r\n    \"at 9\": { time: \"09:00\" },\r\n    \"at 10\": { time: \"10:00\" },\r\n    \"at 11\": { time: \"11:00\" },\r\n    \"at 12\": { time: \"12:00\" },\r\n    \"at 1\": { time: \"13:00\" },\r\n    \"at 2\": { time: \"14:00\" },\r\n    \"at 3\": { time: \"15:00\" },\r\n    \"at 4\": { time: \"16:00\" },\r\n    \"at 5\": { time: \"17:00\" },\r\n    \"at 6\": { time: \"18:00\" },\r\n    \"8\": { time: \"08:00\" },\r\n    \"9\": { time: \"09:00\" },\r\n    \"10\": { time: \"10:00\" },\r\n    \"11\": { time: \"11:00\" },\r\n    \"12\": { time: \"12:00\" },\r\n    \"1\": { time: \"13:00\" },\r\n    \"2\": { time: \"14:00\" },\r\n    \"3\": { time: \"15:00\" },\r\n    \"4\": { time: \"16:00\" },\r\n    \"5\": { time: \"17:00\" },\r\n    \"6\": { time: \"18:00\" },\r\n    \"around 8\": { time: \"08:00\" },\r\n    \"around 9\": { time: \"09:00\" },\r\n    \"around 10\": { time: \"10:00\" },\r\n    \"around 11\": { time: \"11:00\" },\r\n    \"around 12\": { time: \"12:00\" },\r\n    \"around 1\": { time: \"13:00\" },\r\n    \"around 2\": { time: \"14:00\" },\r\n    \"around 3\": { time: \"15:00\" },\r\n    \"around 4\": { time: \"16:00\" },\r\n    \"around 5\": { time: \"17:00\" },\r\n    \"around 6\": { time: \"18:00\" },\r\n    \"I want to book an appointment\": { appointment: \"appointment\" },\r\n    \"rendez-vous\": { appointment: \"appointment\" },\r\n    \"appointment\": { appointment: \"appointment\" },\r\n    \"Let's create an appointment\": { appointment: \"appointment\" },\r\n    \"I want an appointment\": { appointment: \"appointment\" },\r\n    \"appointment\": { appointment: \"appointment\" },\r\n    \"schedule\": { appointment: \"appointment\" },\r\n    \"to-do list\": { todoitem: \"todoitem\" },\r\n    \"a to-do list\": { todoitem: \"todoitem\" },\r\n    \"list\": { todoitem: \"todoitem\" },\r\n    \"Let's start a to-do list\": { todoitem: \"todoitem\" },\r\n    \"I have something to do\": { todoitem: \"todoitem\" },\r\n    \"to do list\": { todoitem: \"todoitem\" },\r\n    \"timer\": { timer: \"timer\" },\r\n    \"a timer\": { timer: \"timer\" },\r\n    \"start the timer\": { timer: \"timer\" },\r\n    \"ring\": { timer: \"timer\" },\r\n    \"minute\": { timer: \"timer\" },\r\n    \"yes\": { agree: \"yes\" },\r\n    \"yeah\": { agree: \"yes\" },\r\n    \"sounds good\": { agree: \"yes\" },\r\n    \"of course\": { agree: \"yes\" },\r\n    \"probably\": { agree: \"yes\" },\r\n    \"it's fine\": { agree: \"yes\" },\r\n    \"no\": { refuse: \"no\" },\r\n    \"I'm not sure\": { refuse: \"no\" },\r\n    \"I don't think so\": { refuse: \"no\" },\r\n    \"no way\": { refuse: \"no\" },\r\n    \"absolutely not\": { refuse: \"no\" },\r\n    \"help\": { help: \"help\" },\r\n    \"I don't understand\": { help: \"help\" },\r\n    \"please help\": { help: \"help\" },\r\n    \"can you repeat\": { help: \"help\" },\r\n    \"let's go back\": { help: \"help\" },\r\n}","import \"./styles.scss\";\r\nimport * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport { Machine, assign, send, State } from \"xstate\";\r\nimport { useMachine, asEffect } from \"@xstate/react\";\r\nimport { inspect } from \"@xstate/inspect\";\r\nimport { dmMachine } from \"./dmAppointment\";\r\n\r\n\r\ninspect({\r\n    url: \"https://statecharts.io/inspect\",\r\n    iframe: false\r\n});\r\n\r\nimport { useSpeechSynthesis, useSpeechRecognition } from 'react-speech-kit';\r\n\r\nlet count = 0\r\nconst machine = Machine<SDSContext, any, SDSEvent>({\r\n    id: 'root',\r\n    type: 'parallel',\r\n    states: {\r\n        dm: {\r\n            ...dmMachine\r\n        },\r\n        asrtts: {\r\n            initial: 'idle',\r\n            states: {\r\n                idle: {\r\n                    on: {\r\n                        LISTEN: 'recognising',\r\n                        SPEAK: {\r\n                            target: 'speaking',\r\n                            actions: assign((_context, event) => { return { ttsAgenda: event.value } })\r\n                        }\r\n                    }\r\n                },\r\n                recognising: {\r\n\t\t    initial: 'progress',\r\n                    entry: 'recStart',\r\n                    exit: 'recStop',\r\n                    on: {\r\n                        ASRRESULT: {\r\n                            actions: ['recLogResult',\r\n                                assign((_context, event) => { return { recResult: event.value } })],\r\n                            target: '.match'\r\n                        },\r\n                        RECOGNISED: 'idle',\r\n                        MAXSPEECH: {\r\n                            actions: assign((context) => {\r\n                                if (context.counter) {\r\n                                    return { counter: context.counter + 1 }\r\n                                } else {\r\n                                    return { counter: count + 1 }\r\n                                }\r\n                            }),\r\n                            target: 'idle'\r\n                        },\r\n                    },\r\n                    states: {\r\n\t\t    \tprogress: {\r\n\t\t\t},\t    \t\t\t\t\t\r\n                        match: {\r\n                            entry: send('RECOGNISED'),\r\n                        },\r\n                    }\r\n                },\r\n                speaking: {\r\n                    entry: 'ttsStart',\r\n                    on: {\r\n                        ENDSPEECH: 'idle',\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n},\r\n    {\r\n        actions: {\r\n            recLogResult: (context: SDSContext) => {\r\n                /* context.recResult = event.recResult; */\r\n                console.log('<< ASR: ' + context.recResult);\r\n            },\r\n            test: () => {\r\n                console.log('test')\r\n            },\r\n            logIntent: (context: SDSContext) => {\r\n                /* context.nluData = event.data */\r\n                console.log('<< NLU intent: ' + context.nluData.intent.name)\r\n            }\r\n        },\r\n    });\r\n\r\n\r\n\r\ninterface Props extends React.HTMLAttributes<HTMLElement> {\r\n    state: State<SDSContext, any, any, any>;\r\n}\r\nconst ReactiveButton = (props: Props): JSX.Element => {\r\n    switch (true) {\r\n        case props.state.matches({ asrtts: 'recognising' }):\r\n            return (\r\n                <button type=\"button\" className=\"glow-on-hover\"\r\n                    style={{ animation: \"glowing 20s linear\" }} {...props}>\r\n                    Listening...\r\n                </button>\r\n            );\r\n        case props.state.matches({ asrtts: 'speaking' }):\r\n            return (\r\n                <button type=\"button\" className=\"glow-on-hover\"\r\n                    style={{ animation: \"bordering 1s infinite\" }} {...props}>\r\n                    Speaking...\r\n                </button>\r\n            );\r\n        default:\r\n            return (\r\n                <button type=\"button\" className=\"glow-on-hover\" {...props}>\r\n                    Click to start\r\n                </button >\r\n            );\r\n    }\r\n}\r\n\r\nfunction App() {\r\n    const { speak, cancel, speaking } = useSpeechSynthesis({\r\n        onEnd: () => {\r\n            send('ENDSPEECH');\r\n        },\r\n    });\r\n    const { listen, listening, stop } = useSpeechRecognition({\r\n        onResult: (result: any) => {\r\n            send({ type: \"ASRRESULT\", value: result });\r\n        },\r\n    });\r\n    const [current, send, service] = useMachine(machine, {\r\n        devTools: true,\r\n        actions: {\r\n            recStart: asEffect(() => {\r\n                console.log('Listening...');\r\n                listen({\r\n                    interimResults: false,\r\n                    continuous: true\r\n                });\r\n            }),\r\n            recStop: asEffect(() => {\r\n                console.log('Recognition stopped.');\r\n                stop()\r\n            }),\r\n            changeColour: asEffect((context) => {\r\n                console.log('Repainting...');\r\n                document.body.style.background = context.recResult;\r\n            }),\r\n            ttsStart: asEffect((context, effect) => {\r\n                console.log('Speaking...');\r\n                speak({ text: context.ttsAgenda })\r\n            }),\r\n            ttsCancel: asEffect((context, effect) => {\r\n                console.log('TTS STOP...');\r\n                cancel()\r\n            })\r\n            /* speak: asEffect((context) => {\r\n\t     * console.log('Speaking...');\r\n             *     speak({text: context.ttsAgenda })\r\n             * } */\r\n        }\r\n    });\r\n\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <ReactiveButton state={current} onClick={() => send('CLICK')} />\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\n\r\n/* RASA API\r\n *  */\r\nconst proxyurl = \"https://cors-anywhere.herokuapp.com/\";\r\n/*const rasaurl = 'https://rasa-nlu-api-00.herokuapp.com/model/parse'*/\r\nconst rasaurl = 'https://nlu-heroku.herokuapp.com/model/parse/';\r\nexport const nluRequest = (text: string) =>\r\n    fetch(new Request(proxyurl + rasaurl, {\r\n        method: 'POST',\r\n        //headers: { 'Origin': 'http://maraev.me' }, // only required with proxy\r\n        headers: { 'Origin': 'http://localhost:3000/' },\r\n        body: `{\"text\": \"${text}\"}`\r\n    }))\r\n        .then(data => data.json());\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(\r\n    <App />,\r\n    rootElement);"]}}