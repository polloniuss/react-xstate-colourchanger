{"ast":null,"code":"import _objectSpread from\"C:/Users/B\\xE9r\\xE9nice/Documents/nodeJS/react-xstate-colourchanger/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{send}from\"xstate\";const sayColour=send(context=>({type:\"SPEAK\",value:\"Repainting to \".concat(context.recResult)}));function say(text){return send(_context=>({type:\"SPEAK\",value:text}));}function promptAndAsk(prompt){return{initial:'prompt',states:{prompt:{entry:say(prompt),on:{ENDSPEECH:'ask'}},ask:{entry:send('LISTEN')}}};}export const dmMachine={initial:'init',states:{init:{on:{CLICK:'welcome'}},welcome:_objectSpread({on:{RECOGNISED:[{target:'stop',cond:context=>context.recResult==='stop'},{target:'repaint'}]}},promptAndAsk(\"Tell me the colour\")),stop:{entry:say(\"Ok\"),always:'init'},repaint:{initial:'prompt',states:{prompt:{entry:sayColour,on:{ENDSPEECH:'repaint'}},repaint:{entry:'changeColour',always:'#root.dm.welcome'}}}}};","map":{"version":3,"sources":["C:/Users/Bérénice/Documents/nodeJS/react-xstate-colourchanger/src/dmColourChanger.ts"],"names":["send","sayColour","context","type","value","recResult","say","text","_context","promptAndAsk","prompt","initial","states","entry","on","ENDSPEECH","ask","dmMachine","init","CLICK","welcome","RECOGNISED","target","cond","stop","always","repaint"],"mappings":"yLAAA,OAAwBA,IAAxB,KAA4C,QAA5C,CAGA,KAAMC,CAAAA,SAAuC,CAAGD,IAAI,CAAEE,OAAD,GAA0B,CAC3EC,IAAI,CAAE,OADqE,CAC5DC,KAAK,yBAAmBF,OAAO,CAACG,SAA3B,CADuD,CAA1B,CAAD,CAApD,CAIA,QAASC,CAAAA,GAAT,CAAaC,IAAb,CAAyD,CACrD,MAAOP,CAAAA,IAAI,CAAEQ,QAAD,GAA2B,CAAEL,IAAI,CAAE,OAAR,CAAiBC,KAAK,CAAEG,IAAxB,CAA3B,CAAD,CAAX,CACH,CAED,QAASE,CAAAA,YAAT,CAAsBC,MAAtB,CAAgF,CAC5E,MAAQ,CACXC,OAAO,CAAE,QADE,CAEXC,MAAM,CAAE,CACGF,MAAM,CAAE,CAClBG,KAAK,CAAEP,GAAG,CAACI,MAAD,CADQ,CAElBI,EAAE,CAAE,CAAEC,SAAS,CAAE,KAAb,CAFc,CADX,CAKGC,GAAG,CAAE,CACfH,KAAK,CAAEb,IAAI,CAAC,QAAD,CADI,CALR,CAFG,CAAR,CAWH,CAGD,MAAO,MAAMiB,CAAAA,SAAmD,CAAI,CAChEN,OAAO,CAAE,MADuD,CAEhEC,MAAM,CAAE,CACJM,IAAI,CAAE,CACFJ,EAAE,CAAE,CACAK,KAAK,CAAE,SADP,CADF,CADF,CAMJC,OAAO,gBACHN,EAAE,CAAE,CACAO,UAAU,CAAE,CACR,CAAEC,MAAM,CAAE,MAAV,CAAkBC,IAAI,CAAGrB,OAAD,EAAaA,OAAO,CAACG,SAAR,GAAsB,MAA3D,CADQ,CAER,CAAEiB,MAAM,CAAE,SAAV,CAFQ,CADZ,CADD,EAMPb,YAAY,CAAC,oBAAD,CANL,CANH,CAcJe,IAAI,CAAE,CACFX,KAAK,CAAEP,GAAG,CAAC,IAAD,CADR,CAEFmB,MAAM,CAAE,MAFN,CAdF,CAkBJC,OAAO,CAAE,CACLf,OAAO,CAAE,QADJ,CAELC,MAAM,CAAE,CACJF,MAAM,CAAE,CACJG,KAAK,CAAEZ,SADH,CAEJa,EAAE,CAAE,CAAEC,SAAS,CAAE,SAAb,CAFA,CADJ,CAKJW,OAAO,CAAE,CACLb,KAAK,CAAE,cADF,CAELY,MAAM,CAAE,kBAFH,CALL,CAFH,CAlBL,CAFwD,CAA7D","sourcesContent":["import { MachineConfig, send, Action } from \"xstate\";\r\n\r\n\r\nconst sayColour: Action<SDSContext, SDSEvent> = send((context: SDSContext) => ({\r\n    type: \"SPEAK\", value: `Repainting to ${context.recResult}`\r\n}))\r\n\r\nfunction say(text: string): Action<SDSContext, SDSEvent> {\r\n    return send((_context: SDSContext) => ({ type: \"SPEAK\", value: text }))\r\n}\r\n\r\nfunction promptAndAsk(prompt: string): MachineConfig<SDSContext, any, SDSEvent> {\r\n    return ({\r\n\tinitial: 'prompt',\r\n\tstates: {\r\n            prompt: {\r\n\t\tentry: say(prompt),\r\n\t\ton: { ENDSPEECH: 'ask' }\r\n            },\r\n            ask: {\r\n\t\tentry: send('LISTEN'),\r\n            },\r\n\t}})\r\n}\r\n\r\n\r\nexport const dmMachine: MachineConfig<SDSContext, any, SDSEvent> = ({\r\n    initial: 'init',\r\n    states: {\r\n        init: {\r\n            on: {\r\n                CLICK: 'welcome'\r\n            }\r\n        },\r\n        welcome: {\r\n            on: {\r\n                RECOGNISED: [\r\n                    { target: 'stop', cond: (context) => context.recResult === 'stop' },\r\n                    { target: 'repaint' }]\r\n            },\r\n\t    ...promptAndAsk(\"Tell me the colour\")\r\n        },\r\n        stop: {\r\n            entry: say(\"Ok\"),\r\n            always: 'init'\r\n        },\r\n        repaint: {\r\n            initial: 'prompt',\r\n            states: {\r\n                prompt: {\r\n                    entry: sayColour,\r\n                    on: { ENDSPEECH: 'repaint' }\r\n                },\r\n                repaint: {\r\n                    entry: 'changeColour',\r\n                    always: '#root.dm.welcome'\r\n                }\r\n            }\r\n        }\r\n    }\r\n})\r\n"]},"metadata":{},"sourceType":"module"}